# Database configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=user
quarkus.datasource.password=password
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/interview_preparation
# Database schema management - Choose one option:

# Option A: Hibernate auto-DDL (Development/Testing - ACTIVE FOR DEVELOPMENT)
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.database.generation.create-schemas=true
#quarkus.hibernate-orm.database.generation=drop-and-create
# Disable default import script since we use DataInitializationService
quarkus.hibernate-orm.sql-load-script=no-file

# Option B: Flyway (Production - recommended)
# quarkus.hibernate-orm.database.generation=none
# quarkus.flyway.migrate-at-start=true
# quarkus.flyway.baseline-on-migrate=true
# quarkus.flyway.baseline-version=1.0.0

# JWT configuration
mp.jwt.verify.issuer=dereckan-interback
quarkus.smallrye-jwt.enabled=true
smallrye.jwt.sign.key.location=privateKey.pem
mp.jwt.verify.publickey.location=publicKey.pem

# Enable CORS for Next.js frontend
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://localhost:8080
quarkus.http.cors.headers=Authorization,Content-Type
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.allow-credentials=true

# MinIO S3-compatible configuration using Quarkus extension
quarkus.s3.endpoint-override=http://localhost:9000
quarkus.s3.aws.credentials.static-provider.access-key-id=minioadmin
quarkus.s3.aws.credentials.static-provider.secret-access-key=minioadmin123
quarkus.s3.aws.region=us-east-1
quarkus.s3.path-style-access=true
# Force path-style access for MinIO compatibility
quarkus.s3.enable-virtual-style-access=false
# MinIO Bucket Configuration (Enterprise Pattern)
minio.bucket.user-resumes=interviewai-user-resumes
minio.bucket.interview-recordings=interviewai-interview-recordings  
minio.bucket.user-avatars=interviewai-user-avatars
minio.bucket.system-assets=interviewai-system-assets
minio.bucket.temp-uploads=interviewai-temp-uploads

# Default bucket (legacy support)
minio.bucket-name=interviewai-user-resumes

# File upload configuration
quarkus.http.body.uploads-directory=/tmp/uploads
quarkus.http.body.delete-uploaded-files-on-end=true
quarkus.http.limits.max-body-size=10M
# Custom property for file validation
app.file.upload.max-size=10485760

# Logging configuration
quarkus.log.console.enable=true
quarkus.log.console.level=INFO
quarkus.log.category."dereck.angeles".level=DEBUG